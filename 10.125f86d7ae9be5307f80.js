(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Vfro:function(r,e,s){"use strict";s.r(e),s.d(e,"UserModule",function(){return P});var o=s("SVse"),n=s("d2mR"),t=s("iInd"),i=s("s7LF"),c=s("8Y7J"),l=s("YEKF"),b=s("EApP"),u=s("JqCM"),a=s("ej43"),m=s("hvj1");function f(r,e){1&r&&(c.Nb(0,"span",40),c.uc(1," (You)"),c.Mb())}function d(r,e){if(1&r){const r=c.Ob();c.Nb(0,"span",50),c.Ub("confirm",function(){c.kc(r);const e=c.Wb(2),s=e.$implicit,o=e.index;return c.Wb().onStatusClick(s,o)}),c.uc(1,"Active"),c.Mb()}if(2&r){c.Wb();const r=c.ic(4);c.bc("swal",r)}}function h(r,e){if(1&r){const r=c.Ob();c.Nb(0,"span",51),c.Ub("confirm",function(){c.kc(r);const e=c.Wb(2),s=e.$implicit,o=e.index;return c.Wb().onStatusClick(s,o)}),c.uc(1,"In Active"),c.Mb()}if(2&r){c.Wb();const r=c.ic(4);c.bc("swal",r)}}function p(r,e){if(1&r){const r=c.Ob();c.Nb(0,"div"),c.sc(1,d,2,1,"span",42),c.sc(2,h,2,1,"span",43),c.Ib(3,"swal",44,45),c.Nb(5,"span",46),c.Ub("confirm",function(){c.kc(r);const e=c.Wb().$implicit;return c.Wb().onDelete(e)}),c.Ib(6,"i",47),c.uc(7," Delete"),c.Mb(),c.Ib(8,"swal",48,49),c.Mb()}if(2&r){const r=c.ic(9),e=c.Wb().$implicit;c.wb(1),c.bc("ngIf",e.isActive),c.wb(1),c.bc("ngIf",!e.isActive),c.wb(1),c.bc("showCancelButton",!0)("focusCancel",!0),c.wb(2),c.bc("swal",r),c.wb(3),c.bc("showCancelButton",!0)("focusCancel",!0)}}function w(r,e){if(1&r&&(c.Nb(0,"tr"),c.Nb(1,"td"),c.Nb(2,"h6"),c.uc(3,"Name : "),c.Nb(4,"span",40),c.uc(5),c.Mb(),c.sc(6,f,2,0,"span",41),c.Mb(),c.Nb(7,"h6"),c.uc(8,"Username : "),c.Nb(9,"span",40),c.Nb(10,"code"),c.uc(11),c.Mb(),c.Mb(),c.Mb(),c.Nb(12,"h6"),c.uc(13,"Role : "),c.Nb(14,"span",40),c.uc(15),c.Mb(),c.Mb(),c.sc(16,p,10,7,"div",13),c.Mb(),c.Mb()),2&r){const r=e.$implicit,s=c.Wb();c.wb(5),c.vc(r.name),c.wb(1),c.bc("ngIf",r.id===s.currentUser.id),c.wb(5),c.wc("@",r.username,""),c.wb(4),c.vc(r.roleName),c.wb(1),c.bc("ngIf",r.id!==s.currentUser.id)}}function g(r,e){1&r&&(c.Nb(0,"tr"),c.Nb(1,"td",52),c.uc(2," No records available "),c.Mb(),c.Mb())}function N(r,e){1&r&&(c.Nb(0,"li",19),c.uc(1," Username is required "),c.Mb())}function C(r,e){if(1&r&&(c.Nb(0,"li",19),c.uc(1),c.Mb()),2&r){const r=c.Wb(2);c.wb(1),c.wc(" Username should be minimum ",null==r.formControls.username.errors?null:r.formControls.username.errors.minlength.requiredLength," characters. ")}}function M(r,e){if(1&r&&(c.Nb(0,"li",19),c.uc(1),c.Mb()),2&r){const r=c.Wb(2);c.wb(1),c.wc(" Username should be maximum ",null==r.formControls.username.errors?null:r.formControls.username.errors.maxlength.requiredLength," characters. ")}}function v(r,e){if(1&r&&(c.Nb(0,"ul"),c.sc(1,N,2,0,"li",53),c.sc(2,C,2,1,"li",53),c.sc(3,M,2,1,"li",53),c.Mb()),2&r){const r=c.Wb();c.wb(1),c.bc("ngIf",null==r.formControls.username.errors?null:r.formControls.username.errors.required),c.wb(1),c.bc("ngIf",null==r.formControls.username.errors?null:r.formControls.username.errors.minlength),c.wb(1),c.bc("ngIf",null==r.formControls.username.errors?null:r.formControls.username.errors.maxlength)}}function I(r,e){1&r&&c.Ib(0,"i",54)}function x(r,e){1&r&&c.Ib(0,"i",55)}function y(r,e){1&r&&(c.Nb(0,"li",19),c.uc(1," Password is required "),c.Mb())}function U(r,e){if(1&r&&(c.Nb(0,"li",19),c.uc(1),c.Mb()),2&r){const r=c.Wb(2);c.wb(1),c.wc(" Password should be minimum ",null==r.formControls.password.errors?null:r.formControls.password.errors.minlength.requiredLength," characters. ")}}function q(r,e){if(1&r&&(c.Nb(0,"li",19),c.uc(1),c.Mb()),2&r){const r=c.Wb(2);c.wb(1),c.wc(" Password should be maximum ",null==r.formControls.password.errors?null:r.formControls.password.errors.maxlength.requiredLength," characters. ")}}function S(r,e){if(1&r&&(c.Nb(0,"ul"),c.sc(1,y,2,0,"li",53),c.sc(2,U,2,1,"li",53),c.sc(3,q,2,1,"li",53),c.Mb()),2&r){const r=c.Wb();c.wb(1),c.bc("ngIf",null==r.formControls.password.errors?null:r.formControls.password.errors.required),c.wb(1),c.bc("ngIf",null==r.formControls.password.errors?null:r.formControls.password.errors.minlength),c.wb(1),c.bc("ngIf",null==r.formControls.password.errors?null:r.formControls.password.errors.maxlength)}}function A(r,e){1&r&&(c.Nb(0,"li",19),c.uc(1," Name is required "),c.Mb())}function F(r,e){if(1&r&&(c.Nb(0,"li",19),c.uc(1),c.Mb()),2&r){const r=c.Wb(2);c.wb(1),c.wc(" Name should be minimum ",null==r.formControls.name.errors?null:r.formControls.name.errors.minlength.requiredLength," characters. ")}}function W(r,e){if(1&r&&(c.Nb(0,"li",19),c.uc(1),c.Mb()),2&r){const r=c.Wb(2);c.wb(1),c.wc(" Name should be maximum ",null==r.formControls.name.errors?null:r.formControls.name.errors.maxlength.requiredLength," characters. ")}}function k(r,e){if(1&r&&(c.Nb(0,"ul"),c.sc(1,A,2,0,"li",53),c.sc(2,F,2,1,"li",53),c.sc(3,W,2,1,"li",53),c.Mb()),2&r){const r=c.Wb();c.wb(1),c.bc("ngIf",null==r.formControls.name.errors?null:r.formControls.name.errors.required),c.wb(1),c.bc("ngIf",null==r.formControls.name.errors?null:r.formControls.name.errors.minlength),c.wb(1),c.bc("ngIf",null==r.formControls.name.errors?null:r.formControls.name.errors.maxlength)}}function L(r,e){1&r&&(c.Nb(0,"li",19),c.uc(1," Role is required "),c.Mb())}function D(r,e){if(1&r&&(c.Nb(0,"ul"),c.sc(1,L,2,0,"li",53),c.Mb()),2&r){const r=c.Wb();c.wb(1),c.bc("ngIf",null==r.formControls.role.errors?null:r.formControls.role.errors.required)}}const O=function(r){return{"is-invalid":r}},V=function(r){return{"is-invalid outline-danger":r}},E=function(r){return{"outline-color":r}},R=[{path:"",component:(()=>{class r{constructor(r,e,s,o,n){this.userService=r,this.fb=e,this.toastr=s,this.spinner=o,this.authenticationService=n,this.users=[],this.userForm=this.fb.group({name:["",[i.q.required,i.q.minLength(4),i.q.maxLength(50)]],username:["",[i.q.required,i.q.minLength(4),i.q.maxLength(30)]],password:["",[i.q.required,i.q.minLength(4),i.q.maxLength(50)]],role:["STAFF",[i.q.required,i.q.maxLength(50)]],isActive:[!0]}),this.show=!1,this.selectInputDefaultOutlineColor="#CED4DA",this.selectInputInValidOutlineColor="#DC3545",this.currentUser=this.authenticationService.userValue}ngOnInit(){this.getAllUsers()}get formControls(){return this.userForm.controls}getAllUsers(){this.spinner.show(),this.userService.getAllUsers().subscribe(r=>{this.users=r,this.spinner.hide()})}onSubmit(){this.userForm.valid&&this.saveUser(this.userForm.value)}saveUser(r){this.spinner.show(),this.userService.saveUser(r).subscribe(r=>{this.users.push(r),this.resetDefaultFormValue(),this.show=!1,this.spinner.hide(),this.toastr.success("New user saved successfully","User Saved!",{positionClass:"toast-bottom-center"})},r=>{this.spinner.hide(),this.toastr.error(r,"Error!",{positionClass:"toast-bottom-center"})})}onCancel(){this.resetDefaultFormValue(),this.show=!1}onDelete(r){this.spinner.show(),this.userService.deleteUser(r.id).subscribe(r=>{this.users=this.users.filter(e=>e.id!==r.id),this.spinner.hide(),this.toastr.success("User removed successfully","User Removed!",{positionClass:"toast-bottom-center"})})}onStatusClick(r,e){const s={userId:r.id,status:!r.isActive};this.spinner.show(),this.userService.changeUserStatus(s).subscribe(r=>{this.users[e]=r,this.spinner.hide(),this.toastr.success("User status changed successfully","User Status!",{positionClass:"toast-bottom-center"})})}resetDefaultFormValue(){this.userForm.reset({role:"STAFF",isActive:!0})}}return r.\u0275fac=function(e){return new(e||r)(c.Hb(l.a),c.Hb(i.c),c.Hb(b.b),c.Hb(u.c),c.Hb(a.a))},r.\u0275cmp=c.Bb({type:r,selectors:[["app-user"]],decls:79,vars:26,consts:[[1,"content-wrapper"],[1,"row"],[1,"col-md-12","grid-margin"],[1,"col-12","col-xl-8","mb-4","mb-xl-0"],[1,"font-weight-bold"],[1,"col-lg-4","grid-margin","transparent"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-description"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-lg-8","grid-margin","transparent"],[1,"forms-sample",3,"formGroup","ngSubmit"],["type","ball-grid-pulse","size","medium"],[1,"form-group"],["for","username"],[1,"text-danger"],["type","text","formControlName","username","id","username","placeholder","Username",1,"form-control","form-control-sm",3,"ngClass"],["for","password"],[1,"input-group"],["formControlName","password","id","password","placeholder","Password",1,"form-control","form-control-sm",3,"type","ngClass"],[1,"input-group-append",3,"click"],[1,"input-group-text","bg-primary","text-white"],["class","fa fa-eye","aria-hidden","true",4,"ngIf"],["class","fa fa-eye-slash","aria-hidden","true",4,"ngIf"],["for","name"],["type","text","formControlName","name","id","name","placeholder","Name",1,"form-control","form-control-sm",3,"ngClass"],["for","role"],["formControlName","role","id","role",1,"form-control","form-control-sm",3,"ngClass","ngStyle"],["value","ADMINISTRATOR"],["value","STAFF"],[1,"form-check","form-check-flat","form-check-primary"],[1,"form-check-label"],["type","checkbox","formControlName","isActive",1,"form-check-input"],[1,"input-helper"],["type","submit",1,"btn","btn-primary","mr-2",3,"disabled"],["type","button",1,"btn","btn-light",3,"click"],[1,"text-primary"],["class","text-primary",4,"ngIf"],["class","badge bg-success text-white cursor-pointer",3,"swal","confirm",4,"ngIf"],["class","badge bg-secondary text-white cursor-pointer",3,"swal","confirm",4,"ngIf"],["title","Are you sure?","text","This action may modify user access","icon","question","padding","1em 0",3,"showCancelButton","focusCancel"],["activeSwal",""],[1,"badge","bg-danger","text-white","cursor-pointer","ml-1",3,"swal","confirm"],[1,"ti-trash"],["title","Are you sure?","text","This cannot be undone","icon","question","padding","1em 0",3,"showCancelButton","focusCancel"],["deleteSwal",""],[1,"badge","bg-success","text-white","cursor-pointer",3,"swal","confirm"],[1,"badge","bg-secondary","text-white","cursor-pointer",3,"swal","confirm"],[1,"text-center"],["class","text-danger",4,"ngIf"],["aria-hidden","true",1,"fa","fa-eye"],["aria-hidden","true",1,"fa","fa-eye-slash"]],template:function(r,e){1&r&&(c.Nb(0,"div",0),c.Nb(1,"div",1),c.Nb(2,"div",2),c.Nb(3,"div",1),c.Nb(4,"div",3),c.Nb(5,"h3",4),c.uc(6,"User"),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(7,"div",1),c.Nb(8,"div",5),c.Nb(9,"div",6),c.Nb(10,"div",7),c.Nb(11,"h4",8),c.uc(12,"Users"),c.Mb(),c.Nb(13,"p",9),c.uc(14," List of users "),c.Mb(),c.Nb(15,"div",10),c.Nb(16,"table",11),c.Nb(17,"thead"),c.Nb(18,"tr"),c.Nb(19,"th"),c.uc(20,"User Details"),c.Mb(),c.Mb(),c.Mb(),c.Nb(21,"tbody"),c.sc(22,w,17,5,"tr",12),c.sc(23,g,3,0,"tr",13),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(24,"div",14),c.Nb(25,"div",6),c.Nb(26,"div",7),c.Nb(27,"h4",8),c.uc(28,"User form"),c.Mb(),c.Nb(29,"p",9),c.uc(30," Add / Edit User "),c.Mb(),c.Nb(31,"form",15),c.Ub("ngSubmit",function(){return e.onSubmit()}),c.Ib(32,"ngx-spinner",16),c.Nb(33,"div",17),c.Nb(34,"label",18),c.uc(35,"Username "),c.Nb(36,"span",19),c.uc(37,"*"),c.Mb(),c.Mb(),c.Ib(38,"input",20),c.sc(39,v,4,3,"ul",13),c.Mb(),c.Nb(40,"div",17),c.Nb(41,"label",21),c.uc(42,"Password "),c.Nb(43,"span",19),c.uc(44,"*"),c.Mb(),c.Mb(),c.Nb(45,"div",22),c.Ib(46,"input",23),c.Nb(47,"div",24),c.Ub("click",function(){return e.show=!e.show}),c.Nb(48,"span",25),c.sc(49,I,1,0,"i",26),c.sc(50,x,1,0,"i",27),c.Mb(),c.Mb(),c.Mb(),c.sc(51,S,4,3,"ul",13),c.Mb(),c.Nb(52,"div",17),c.Nb(53,"label",28),c.uc(54,"Name "),c.Nb(55,"span",19),c.uc(56,"*"),c.Mb(),c.Mb(),c.Ib(57,"input",29),c.sc(58,k,4,3,"ul",13),c.Mb(),c.Nb(59,"div",17),c.Nb(60,"label",30),c.uc(61,"Role "),c.Nb(62,"span",19),c.uc(63,"*"),c.Mb(),c.Mb(),c.Nb(64,"select",31),c.Nb(65,"option",32),c.uc(66,"Admin"),c.Mb(),c.Nb(67,"option",33),c.uc(68,"Staff"),c.Mb(),c.Mb(),c.sc(69,D,2,1,"ul",13),c.Mb(),c.Nb(70,"div",34),c.Nb(71,"label",35),c.Ib(72,"input",36),c.uc(73," Active "),c.Ib(74,"i",37),c.Mb(),c.Mb(),c.Nb(75,"button",38),c.uc(76,"Save"),c.Mb(),c.Nb(77,"button",39),c.Ub("click",function(){return e.onCancel()}),c.uc(78,"Cancel"),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb()),2&r&&(c.wb(22),c.bc("ngForOf",e.users),c.wb(1),c.bc("ngIf",!e.users.length),c.wb(8),c.bc("formGroup",e.userForm),c.wb(7),c.bc("ngClass",c.dc(16,O,e.formControls.username.touched&&e.formControls.username.errors)),c.wb(1),c.bc("ngIf",e.formControls.username.touched&&e.formControls.username.errors),c.wb(7),c.bc("type",e.show?"text":"password")("ngClass",c.dc(18,O,e.formControls.password.touched&&e.formControls.password.errors)),c.wb(3),c.bc("ngIf",e.show),c.wb(1),c.bc("ngIf",!e.show),c.wb(1),c.bc("ngIf",e.formControls.password.touched&&e.formControls.password.errors),c.wb(6),c.bc("ngClass",c.dc(20,O,e.formControls.name.touched&&e.formControls.name.errors)),c.wb(1),c.bc("ngIf",e.formControls.name.touched&&e.formControls.name.errors),c.wb(6),c.bc("ngClass",c.dc(22,V,e.formControls.role.touched&&e.formControls.role.errors))("ngStyle",c.dc(24,E,e.formControls.role.touched&&e.formControls.role.errors?e.selectInputInValidOutlineColor:e.selectInputDefaultOutlineColor)),c.wb(5),c.bc("ngIf",e.formControls.role.touched&&e.formControls.role.errors),c.wb(6),c.bc("disabled",!e.userForm.valid))},directives:[o.i,o.j,i.s,i.i,i.e,u.a,i.b,i.h,i.d,o.h,i.p,o.k,i.l,i.r,i.a,m.a,m.b],styles:[""]}),r})()}];let T=(()=>{class r{}return r.\u0275mod=c.Fb({type:r}),r.\u0275inj=c.Eb({factory:function(e){return new(e||r)},imports:[[t.f.forChild(R)],t.f]}),r})(),P=(()=>{class r{}return r.\u0275mod=c.Fb({type:r}),r.\u0275inj=c.Eb({factory:function(e){return new(e||r)},imports:[[o.b,T,n.a]]}),r})()}}]);