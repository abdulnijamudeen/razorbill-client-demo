(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Vfro:function(r,e,s){"use strict";s.r(e),s.d(e,"UserModule",function(){return E});var o=s("SVse"),n=s("d2mR"),t=s("iInd"),i=s("s7LF"),l=s("8Y7J"),c=s("YEKF"),b=s("EApP"),u=s("JqCM"),a=s("hvj1");function m(r,e){if(1&r){const r=l.Ob();l.Nb(0,"span",48),l.Ub("confirm",function(){l.kc(r);const e=l.Wb(),s=e.$implicit,o=e.index;return l.Wb().onStatusClick(s,o)}),l.uc(1,"Active"),l.Mb()}if(2&r){l.Wb();const r=l.ic(10);l.bc("swal",r)}}function f(r,e){if(1&r){const r=l.Ob();l.Nb(0,"span",49),l.Ub("confirm",function(){l.kc(r);const e=l.Wb(),s=e.$implicit,o=e.index;return l.Wb().onStatusClick(s,o)}),l.uc(1,"In Active"),l.Mb()}if(2&r){l.Wb();const r=l.ic(10);l.bc("swal",r)}}function d(r,e){if(1&r){const r=l.Ob();l.Nb(0,"tr"),l.Nb(1,"td"),l.Nb(2,"code"),l.uc(3),l.Mb(),l.Mb(),l.Nb(4,"td"),l.Nb(5,"h6"),l.uc(6),l.Mb(),l.sc(7,m,2,1,"span",40),l.sc(8,f,2,1,"span",41),l.Ib(9,"swal",42,43),l.Mb(),l.Nb(11,"td"),l.uc(12),l.Mb(),l.Nb(13,"td"),l.Nb(14,"button",44),l.Ub("confirm",function(){l.kc(r);const s=e.$implicit;return l.Wb().onDelete(s)}),l.Ib(15,"i",45),l.Mb(),l.Ib(16,"swal",46,47),l.Mb(),l.Mb()}if(2&r){const r=e.$implicit,s=l.ic(17);l.wb(3),l.wc("@",r.username,""),l.wb(3),l.vc(r.name),l.wb(1),l.bc("ngIf",r.isActive),l.wb(1),l.bc("ngIf",!r.isActive),l.wb(1),l.bc("showCancelButton",!0)("focusCancel",!0),l.wb(3),l.vc(r.roleName),l.wb(2),l.bc("swal",s),l.wb(2),l.bc("showCancelButton",!0)("focusCancel",!0)}}function h(r,e){1&r&&(l.Nb(0,"li",18),l.uc(1," Username is required "),l.Mb())}function p(r,e){if(1&r&&(l.Nb(0,"li",18),l.uc(1),l.Mb()),2&r){const r=l.Wb(2);l.wb(1),l.wc(" Username should be minimum ",null==r.formControls.username.errors?null:r.formControls.username.errors.minlength.requiredLength," characters. ")}}function w(r,e){if(1&r&&(l.Nb(0,"li",18),l.uc(1),l.Mb()),2&r){const r=l.Wb(2);l.wb(1),l.wc(" Username should be maximum ",null==r.formControls.username.errors?null:r.formControls.username.errors.maxlength.requiredLength," characters. ")}}function g(r,e){if(1&r&&(l.Nb(0,"ul"),l.sc(1,h,2,0,"li",50),l.sc(2,p,2,1,"li",50),l.sc(3,w,2,1,"li",50),l.Mb()),2&r){const r=l.Wb();l.wb(1),l.bc("ngIf",null==r.formControls.username.errors?null:r.formControls.username.errors.required),l.wb(1),l.bc("ngIf",null==r.formControls.username.errors?null:r.formControls.username.errors.minlength),l.wb(1),l.bc("ngIf",null==r.formControls.username.errors?null:r.formControls.username.errors.maxlength)}}function C(r,e){1&r&&l.Ib(0,"i",51)}function N(r,e){1&r&&l.Ib(0,"i",52)}function M(r,e){1&r&&(l.Nb(0,"li",18),l.uc(1," Password is required "),l.Mb())}function v(r,e){if(1&r&&(l.Nb(0,"li",18),l.uc(1),l.Mb()),2&r){const r=l.Wb(2);l.wb(1),l.wc(" Password should be minimum ",null==r.formControls.password.errors?null:r.formControls.password.errors.minlength.requiredLength," characters. ")}}function I(r,e){if(1&r&&(l.Nb(0,"li",18),l.uc(1),l.Mb()),2&r){const r=l.Wb(2);l.wb(1),l.wc(" Password should be maximum ",null==r.formControls.password.errors?null:r.formControls.password.errors.maxlength.requiredLength," characters. ")}}function y(r,e){if(1&r&&(l.Nb(0,"ul"),l.sc(1,M,2,0,"li",50),l.sc(2,v,2,1,"li",50),l.sc(3,I,2,1,"li",50),l.Mb()),2&r){const r=l.Wb();l.wb(1),l.bc("ngIf",null==r.formControls.password.errors?null:r.formControls.password.errors.required),l.wb(1),l.bc("ngIf",null==r.formControls.password.errors?null:r.formControls.password.errors.minlength),l.wb(1),l.bc("ngIf",null==r.formControls.password.errors?null:r.formControls.password.errors.maxlength)}}function q(r,e){1&r&&(l.Nb(0,"li",18),l.uc(1," Name is required "),l.Mb())}function x(r,e){if(1&r&&(l.Nb(0,"li",18),l.uc(1),l.Mb()),2&r){const r=l.Wb(2);l.wb(1),l.wc(" Name should be minimum ",null==r.formControls.name.errors?null:r.formControls.name.errors.minlength.requiredLength," characters. ")}}function U(r,e){if(1&r&&(l.Nb(0,"li",18),l.uc(1),l.Mb()),2&r){const r=l.Wb(2);l.wb(1),l.wc(" Name should be maximum ",null==r.formControls.name.errors?null:r.formControls.name.errors.maxlength.requiredLength," characters. ")}}function S(r,e){if(1&r&&(l.Nb(0,"ul"),l.sc(1,q,2,0,"li",50),l.sc(2,x,2,1,"li",50),l.sc(3,U,2,1,"li",50),l.Mb()),2&r){const r=l.Wb();l.wb(1),l.bc("ngIf",null==r.formControls.name.errors?null:r.formControls.name.errors.required),l.wb(1),l.bc("ngIf",null==r.formControls.name.errors?null:r.formControls.name.errors.minlength),l.wb(1),l.bc("ngIf",null==r.formControls.name.errors?null:r.formControls.name.errors.maxlength)}}function A(r,e){1&r&&(l.Nb(0,"li",18),l.uc(1," Role is required "),l.Mb())}function F(r,e){if(1&r&&(l.Nb(0,"ul"),l.sc(1,A,2,0,"li",50),l.Mb()),2&r){const r=l.Wb();l.wb(1),l.bc("ngIf",null==r.formControls.role.errors?null:r.formControls.role.errors.required)}}const k=function(r){return{"is-invalid":r}},W=function(r){return{"is-invalid outline-danger":r}},L=function(r){return{"outline-color":r}},D=[{path:"",component:(()=>{class r{constructor(r,e,s,o){this.userService=r,this.fb=e,this.toastr=s,this.spinner=o,this.users=[],this.userForm=this.fb.group({name:["",[i.q.required,i.q.minLength(4),i.q.maxLength(50)]],username:["",[i.q.required,i.q.minLength(4),i.q.maxLength(30)]],password:["",[i.q.required,i.q.minLength(4),i.q.maxLength(50)]],role:["STAFF",[i.q.required,i.q.maxLength(50)]],isActive:[!0]}),this.show=!1,this.selectInputDefaultOutlineColor="#CED4DA",this.selectInputInValidOutlineColor="#DC3545"}ngOnInit(){this.getAllUsers()}get formControls(){return this.userForm.controls}getAllUsers(){this.spinner.show(),this.userService.getAllUsers().subscribe(r=>{this.users=r,this.spinner.hide()})}onSubmit(){this.userForm.valid&&this.saveUser(this.userForm.value)}saveUser(r){this.spinner.show(),this.userService.saveUser(r).subscribe(r=>{this.users.push(r),this.resetDefaultFormValue(),this.show=!1,this.spinner.hide(),this.toastr.success("New user saved successfully","User Saved!",{positionClass:"toast-bottom-center"})},r=>{this.spinner.hide(),this.toastr.error(r,"Error!",{positionClass:"toast-bottom-center"})})}onCancel(){this.resetDefaultFormValue(),this.show=!1}onDelete(r){this.spinner.show(),this.userService.deleteUser(r.id).subscribe(r=>{this.users=this.users.filter(e=>e.id!==r.id),this.spinner.hide(),this.toastr.success("User removed successfully","User Removed!",{positionClass:"toast-bottom-center"})})}onStatusClick(r,e){const s={userId:r.id,status:!r.isActive};this.spinner.show(),this.userService.changeUserStatus(s).subscribe(r=>{this.users[e]=r,this.spinner.hide(),this.toastr.success("User status changed successfully","User Status!",{positionClass:"toast-bottom-center"})})}resetDefaultFormValue(){this.userForm.reset({role:"STAFF",isActive:!0})}}return r.\u0275fac=function(e){return new(e||r)(l.Hb(c.a),l.Hb(i.c),l.Hb(b.b),l.Hb(u.c))},r.\u0275cmp=l.Bb({type:r,selectors:[["app-user"]],decls:84,vars:25,consts:[[1,"content-wrapper"],[1,"row"],[1,"col-md-12","grid-margin"],[1,"col-12","col-xl-8","mb-4","mb-xl-0"],[1,"font-weight-bold"],[1,"col-lg-7","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-description"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"col-md-5","grid-margin","transparent"],[1,"forms-sample",3,"formGroup","ngSubmit"],["type","ball-grid-pulse","size","medium"],[1,"form-group"],["for","username"],[1,"text-danger"],["type","text","formControlName","username","id","username","placeholder","Username",1,"form-control","form-control-sm",3,"ngClass"],[4,"ngIf"],["for","password"],[1,"input-group"],["formControlName","password","id","password","placeholder","Password",1,"form-control","form-control-sm",3,"type","ngClass"],[1,"input-group-append",3,"click"],[1,"input-group-text","bg-primary","text-white"],["class","fa fa-eye","aria-hidden","true",4,"ngIf"],["class","fa fa-eye-slash","aria-hidden","true",4,"ngIf"],["for","name"],["type","text","formControlName","name","id","name","placeholder","Name",1,"form-control","form-control-sm",3,"ngClass"],["for","role"],["formControlName","role","id","role",1,"form-control","form-control-sm",3,"ngClass","ngStyle"],["value","ADMINISTRATOR"],["value","STAFF"],[1,"form-check","form-check-flat","form-check-primary"],[1,"form-check-label"],["type","checkbox","formControlName","isActive",1,"form-check-input"],[1,"input-helper"],["type","submit",1,"btn","btn-primary","mr-2",3,"disabled"],["type","button",1,"btn","btn-light",3,"click"],["class","badge bg-success text-white cursor-pointer",3,"swal","confirm",4,"ngIf"],["class","badge bg-secondary text-white cursor-pointer",3,"swal","confirm",4,"ngIf"],["title","Are you sure?","text","This action may modify user access","icon","question","padding","1em 0","etc","",3,"showCancelButton","focusCancel"],["activeSwal",""],["type","button",1,"btn","btn-danger","btn-rounded","btn-icon",3,"swal","confirm"],[1,"ti-trash"],["title","Are you sure?","text","This cannot be undone","icon","question","padding","1em 0","etc","",3,"showCancelButton","focusCancel"],["deleteSwal",""],[1,"badge","bg-success","text-white","cursor-pointer",3,"swal","confirm"],[1,"badge","bg-secondary","text-white","cursor-pointer",3,"swal","confirm"],["class","text-danger",4,"ngIf"],["aria-hidden","true",1,"fa","fa-eye"],["aria-hidden","true",1,"fa","fa-eye-slash"]],template:function(r,e){1&r&&(l.Nb(0,"div",0),l.Nb(1,"div",1),l.Nb(2,"div",2),l.Nb(3,"div",1),l.Nb(4,"div",3),l.Nb(5,"h3",4),l.uc(6,"User"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Nb(7,"div",1),l.Nb(8,"div",5),l.Nb(9,"div",6),l.Nb(10,"div",7),l.Nb(11,"h4",8),l.uc(12,"Users"),l.Mb(),l.Nb(13,"p",9),l.uc(14," List of users "),l.Mb(),l.Nb(15,"div",10),l.Nb(16,"table",11),l.Nb(17,"thead"),l.Nb(18,"tr"),l.Nb(19,"th"),l.uc(20,"Username"),l.Mb(),l.Nb(21,"th"),l.uc(22,"Name"),l.Mb(),l.Nb(23,"th"),l.uc(24,"Role"),l.Mb(),l.Nb(25,"th"),l.uc(26,"Action"),l.Mb(),l.Mb(),l.Mb(),l.Nb(27,"tbody"),l.sc(28,d,18,10,"tr",12),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Nb(29,"div",13),l.Nb(30,"div",6),l.Nb(31,"div",7),l.Nb(32,"h4",8),l.uc(33,"User form"),l.Mb(),l.Nb(34,"p",9),l.uc(35," Add / Edit User "),l.Mb(),l.Nb(36,"form",14),l.Ub("ngSubmit",function(){return e.onSubmit()}),l.Ib(37,"ngx-spinner",15),l.Nb(38,"div",16),l.Nb(39,"label",17),l.uc(40,"Username "),l.Nb(41,"span",18),l.uc(42,"*"),l.Mb(),l.Mb(),l.Ib(43,"input",19),l.sc(44,g,4,3,"ul",20),l.Mb(),l.Nb(45,"div",16),l.Nb(46,"label",21),l.uc(47,"Password "),l.Nb(48,"span",18),l.uc(49,"*"),l.Mb(),l.Mb(),l.Nb(50,"div",22),l.Ib(51,"input",23),l.Nb(52,"div",24),l.Ub("click",function(){return e.show=!e.show}),l.Nb(53,"span",25),l.sc(54,C,1,0,"i",26),l.sc(55,N,1,0,"i",27),l.Mb(),l.Mb(),l.Mb(),l.sc(56,y,4,3,"ul",20),l.Mb(),l.Nb(57,"div",16),l.Nb(58,"label",28),l.uc(59,"Name "),l.Nb(60,"span",18),l.uc(61,"*"),l.Mb(),l.Mb(),l.Ib(62,"input",29),l.sc(63,S,4,3,"ul",20),l.Mb(),l.Nb(64,"div",16),l.Nb(65,"label",30),l.uc(66,"Role "),l.Nb(67,"span",18),l.uc(68,"*"),l.Mb(),l.Mb(),l.Nb(69,"select",31),l.Nb(70,"option",32),l.uc(71,"Admin"),l.Mb(),l.Nb(72,"option",33),l.uc(73,"Staff"),l.Mb(),l.Mb(),l.sc(74,F,2,1,"ul",20),l.Mb(),l.Nb(75,"div",34),l.Nb(76,"label",35),l.Ib(77,"input",36),l.uc(78," Active "),l.Ib(79,"i",37),l.Mb(),l.Mb(),l.Nb(80,"button",38),l.uc(81,"Save"),l.Mb(),l.Nb(82,"button",39),l.Ub("click",function(){return e.onCancel()}),l.uc(83,"Cancel"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb()),2&r&&(l.wb(28),l.bc("ngForOf",e.users),l.wb(8),l.bc("formGroup",e.userForm),l.wb(7),l.bc("ngClass",l.dc(15,k,e.formControls.username.touched&&e.formControls.username.errors)),l.wb(1),l.bc("ngIf",e.formControls.username.touched&&e.formControls.username.errors),l.wb(7),l.bc("type",e.show?"text":"password")("ngClass",l.dc(17,k,e.formControls.password.touched&&e.formControls.password.errors)),l.wb(3),l.bc("ngIf",e.show),l.wb(1),l.bc("ngIf",!e.show),l.wb(1),l.bc("ngIf",e.formControls.password.touched&&e.formControls.password.errors),l.wb(6),l.bc("ngClass",l.dc(19,k,e.formControls.name.touched&&e.formControls.name.errors)),l.wb(1),l.bc("ngIf",e.formControls.name.touched&&e.formControls.name.errors),l.wb(6),l.bc("ngClass",l.dc(21,W,e.formControls.role.touched&&e.formControls.role.errors))("ngStyle",l.dc(23,L,e.formControls.role.touched&&e.formControls.role.errors?e.selectInputInValidOutlineColor:e.selectInputDefaultOutlineColor)),l.wb(5),l.bc("ngIf",e.formControls.role.touched&&e.formControls.role.errors),l.wb(6),l.bc("disabled",!e.userForm.valid))},directives:[o.i,i.s,i.i,i.e,u.a,i.b,i.h,i.d,o.h,o.j,i.p,o.k,i.l,i.r,i.a,a.a,a.b],styles:[""]}),r})()}];let O=(()=>{class r{}return r.\u0275mod=l.Fb({type:r}),r.\u0275inj=l.Eb({factory:function(e){return new(e||r)},imports:[[t.f.forChild(D)],t.f]}),r})(),E=(()=>{class r{}return r.\u0275mod=l.Fb({type:r}),r.\u0275inj=l.Eb({factory:function(e){return new(e||r)},imports:[[o.b,O,n.a]]}),r})()}}]);