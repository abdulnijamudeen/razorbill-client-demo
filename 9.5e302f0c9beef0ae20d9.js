(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{mmDR:function(r,s,o){"use strict";o.r(s),o.d(s,"SettingModule",function(){return F});var n=o("SVse"),e=o("d2mR"),t=o("iInd"),i=o("s7LF"),a=o("PSD3"),c=o.n(a),l=o("8Y7J"),u=o("YEKF"),b=o("EApP"),d=o("JqCM"),w=o("ej43");function m(r,s){1&r&&l.Ib(0,"i",26)}function f(r,s){1&r&&l.Ib(0,"i",27)}function h(r,s){1&r&&(l.Nb(0,"li",14),l.uc(1," Current password is required "),l.Mb())}function p(r,s){if(1&r&&(l.Nb(0,"li",14),l.uc(1),l.Mb()),2&r){const r=l.Wb(2);l.wb(1),l.wc(" Password should be minimum ",null==r.formControls.currentPassword.errors?null:r.formControls.currentPassword.errors.minlength.requiredLength," characters. ")}}function g(r,s){if(1&r&&(l.Nb(0,"li",14),l.uc(1),l.Mb()),2&r){const r=l.Wb(2);l.wb(1),l.wc(" Password should be maximum ",null==r.formControls.currentPassword.errors?null:r.formControls.currentPassword.errors.maxlength.requiredLength," characters. ")}}function P(r,s){if(1&r&&(l.Nb(0,"ul"),l.sc(1,h,2,0,"li",28),l.sc(2,p,2,1,"li",28),l.sc(3,g,2,1,"li",28),l.Mb()),2&r){const r=l.Wb();l.wb(1),l.bc("ngIf",null==r.formControls.currentPassword.errors?null:r.formControls.currentPassword.errors.required),l.wb(1),l.bc("ngIf",null==r.formControls.currentPassword.errors?null:r.formControls.currentPassword.errors.minlength),l.wb(1),l.bc("ngIf",null==r.formControls.currentPassword.errors?null:r.formControls.currentPassword.errors.maxlength)}}function C(r,s){1&r&&l.Ib(0,"i",26)}function N(r,s){1&r&&l.Ib(0,"i",27)}function M(r,s){1&r&&(l.Nb(0,"li",14),l.uc(1," New password is required "),l.Mb())}function v(r,s){if(1&r&&(l.Nb(0,"li",14),l.uc(1),l.Mb()),2&r){const r=l.Wb(2);l.wb(1),l.wc(" Password should be minimum ",null==r.formControls.newPassword.errors?null:r.formControls.newPassword.errors.minlength.requiredLength," characters. ")}}function S(r,s){if(1&r&&(l.Nb(0,"li",14),l.uc(1),l.Mb()),2&r){const r=l.Wb(2);l.wb(1),l.wc(" Password should be maximum ",null==r.formControls.newPassword.errors?null:r.formControls.newPassword.errors.maxlength.requiredLength," characters. ")}}function I(r,s){if(1&r&&(l.Nb(0,"ul"),l.sc(1,M,2,0,"li",28),l.sc(2,v,2,1,"li",28),l.sc(3,S,2,1,"li",28),l.Mb()),2&r){const r=l.Wb();l.wb(1),l.bc("ngIf",null==r.formControls.newPassword.errors?null:r.formControls.newPassword.errors.required),l.wb(1),l.bc("ngIf",null==r.formControls.newPassword.errors?null:r.formControls.newPassword.errors.minlength),l.wb(1),l.bc("ngIf",null==r.formControls.newPassword.errors?null:r.formControls.newPassword.errors.maxlength)}}const y=function(r){return{"is-invalid":r}},q=[{path:"",component:(()=>{class r{constructor(r,s,o,n,e){this.userService=r,this.fb=s,this.toastr=o,this.spinner=n,this.authenticationService=e,this.passwordForm=this.fb.group({currentPassword:["",[i.q.required,i.q.minLength(4),i.q.maxLength(50)]],newPassword:["",[i.q.required,i.q.minLength(4),i.q.maxLength(50)]]}),this.cShow=!1,this.nShow=!1,this.user=this.authenticationService.userValue}ngOnInit(){}get formControls(){return this.passwordForm.controls}onSubmit(){this.passwordForm.controls.currentPassword!=this.passwordForm.controls.currentPassword?this.passwordForm.valid&&this.changePassword(this.passwordForm.value):c.a.fire("Oops !","Your current password and new password must not be same. Please try something else !")}changePassword(r){this.spinner.show(),this.userService.changePassword(this.user.id,r).subscribe(r=>{this.resetDefaultFormValue(),this.spinner.hide(),this.toastr.success("Password changed successfully","Password changed!",{positionClass:"toast-bottom-center"})},r=>{this.spinner.hide(),this.toastr.error(r,"Error!",{positionClass:"toast-bottom-center"})})}onCancel(){this.resetDefaultFormValue(),this.cShow=!1,this.nShow=!1}resetDefaultFormValue(){this.passwordForm.reset()}}return r.\u0275fac=function(s){return new(s||r)(l.Hb(u.a),l.Hb(i.c),l.Hb(b.b),l.Hb(d.c),l.Hb(w.a))},r.\u0275cmp=l.Bb({type:r,selectors:[["app-setting"]],decls:45,vars:16,consts:[[1,"content-wrapper"],[1,"row"],[1,"col-md-12","grid-margin"],[1,"col-12","col-xl-8","mb-4","mb-xl-0"],[1,"font-weight-bold"],[1,"col-md-5","grid-margin","transparent"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-description"],[1,"forms-sample",3,"formGroup","ngSubmit"],["type","ball-grid-pulse","size","medium"],[1,"form-group"],["for","currentPassword"],[1,"text-danger"],[1,"input-group"],["formControlName","currentPassword","id","currentPassword","placeholder","Current password",1,"form-control","form-control-sm",3,"type","ngClass"],[1,"input-group-append",3,"click"],[1,"input-group-text","bg-primary","text-white"],["class","fa fa-eye","aria-hidden","true",4,"ngIf"],["class","fa fa-eye-slash","aria-hidden","true",4,"ngIf"],[4,"ngIf"],["for","newPassword"],["formControlName","newPassword","id","newPassword","placeholder","New password",1,"form-control","form-control-sm",3,"type","ngClass"],["type","submit",1,"btn","btn-primary","mr-2",3,"disabled"],["type","button",1,"btn","btn-light",3,"click"],["aria-hidden","true",1,"fa","fa-eye"],["aria-hidden","true",1,"fa","fa-eye-slash"],["class","text-danger",4,"ngIf"]],template:function(r,s){1&r&&(l.Nb(0,"div",0),l.Nb(1,"div",1),l.Nb(2,"div",2),l.Nb(3,"div",1),l.Nb(4,"div",3),l.Nb(5,"h3",4),l.uc(6,"Settings"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Nb(7,"div",1),l.Nb(8,"div",5),l.Nb(9,"div",6),l.Nb(10,"div",7),l.Nb(11,"h4",8),l.uc(12,"Change password"),l.Mb(),l.Nb(13,"p",9),l.uc(14," Change your password here "),l.Mb(),l.Nb(15,"form",10),l.Ub("ngSubmit",function(){return s.onSubmit()}),l.Ib(16,"ngx-spinner",11),l.Nb(17,"div",12),l.Nb(18,"label",13),l.uc(19,"Current password "),l.Nb(20,"span",14),l.uc(21,"*"),l.Mb(),l.Mb(),l.Nb(22,"div",15),l.Ib(23,"input",16),l.Nb(24,"div",17),l.Ub("click",function(){return s.cShow=!s.cShow}),l.Nb(25,"span",18),l.sc(26,m,1,0,"i",19),l.sc(27,f,1,0,"i",20),l.Mb(),l.Mb(),l.Mb(),l.sc(28,P,4,3,"ul",21),l.Mb(),l.Nb(29,"div",12),l.Nb(30,"label",22),l.uc(31,"New password "),l.Nb(32,"span",14),l.uc(33,"*"),l.Mb(),l.Mb(),l.Nb(34,"div",15),l.Ib(35,"input",23),l.Nb(36,"div",17),l.Ub("click",function(){return s.nShow=!s.nShow}),l.Nb(37,"span",18),l.sc(38,C,1,0,"i",19),l.sc(39,N,1,0,"i",20),l.Mb(),l.Mb(),l.Mb(),l.sc(40,I,4,3,"ul",21),l.Mb(),l.Nb(41,"button",24),l.uc(42,"Save"),l.Mb(),l.Nb(43,"button",25),l.Ub("click",function(){return s.onCancel()}),l.uc(44,"Cancel"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb()),2&r&&(l.wb(15),l.bc("formGroup",s.passwordForm),l.wb(8),l.bc("type",s.cShow?"text":"password")("ngClass",l.dc(12,y,s.formControls.currentPassword.touched&&s.formControls.currentPassword.errors)),l.wb(3),l.bc("ngIf",s.cShow),l.wb(1),l.bc("ngIf",!s.cShow),l.wb(1),l.bc("ngIf",s.formControls.currentPassword.touched&&s.formControls.currentPassword.errors),l.wb(7),l.bc("type",s.nShow?"text":"password")("ngClass",l.dc(14,y,s.formControls.newPassword.touched&&s.formControls.newPassword.errors)),l.wb(3),l.bc("ngIf",s.nShow),l.wb(1),l.bc("ngIf",!s.nShow),l.wb(1),l.bc("ngIf",s.formControls.newPassword.touched&&s.formControls.newPassword.errors),l.wb(1),l.bc("disabled",!s.passwordForm.valid))},directives:[i.s,i.i,i.e,d.a,i.b,i.h,i.d,n.h,n.j],styles:[""]}),r})()}];let x=(()=>{class r{}return r.\u0275mod=l.Fb({type:r}),r.\u0275inj=l.Eb({factory:function(s){return new(s||r)},imports:[[t.e.forChild(q)],t.e]}),r})(),F=(()=>{class r{}return r.\u0275mod=l.Fb({type:r}),r.\u0275inj=l.Eb({factory:function(s){return new(s||r)},imports:[[n.b,x,e.a]]}),r})()}}]);